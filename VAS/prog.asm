.CHAR_0 #48;

LDM CHAR_0 R1;

$READCHAR:
INB D0 R0;      
CMP R0 R1;
BEQ WRITEBACK;          
PSH R0;
INC R2; 
BRA READCHAR;

$WRITEBACK:
POP R0;         
OUB D0 R0;
DEC R2;
BGT WRITEBACK;
END;